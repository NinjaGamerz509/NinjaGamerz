<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉</title>
<style>
  body{margin:0;font-family:Arial, sans-serif;background:#0c0c0c;color:#fff;overflow-x:hidden}
  header{display:flex;justify-content:space-between;align-items:flex-start;padding:10px 20px;background:#111;position:sticky;top:0;z-index:10}
  .nav-toggle{cursor:pointer;width:30px;height:25px;display:flex;flex-direction:column;justify-content:space-between;position:fixed;top:20px;left:20px;z-index:25}
  .nav-toggle span{display:block;height:3px;background:#fff;border-radius:2px;transition:0.3s}
  header h1{margin:0;position:fixed;top:10px;right:20px;padding:15px 25px;background:#222;border-radius:10px;box-shadow:0 3px 6px rgba(0,0,0,.5);font-size:1.3rem}
  #dropdownMenu{position:fixed;top:60px;left:20px;background:#1c1c1c;padding:10px 20px;border-radius:8px;display:none;flex-direction:column;z-index:20}
  #dropdownMenu a{color:#fff;text-decoration:none;margin:5px 0;font-weight:700}
  #dropdownMenu a:hover{color:#a020f0}
  .btn{display:inline-block;margin:10px 5px;padding:12px 20px;border-radius:8px;background:#a020f0;color:#fff;font-weight:700;text-decoration:none;cursor:pointer}
  .btn:hover{background:#7a0fc4}
  section{padding:60px 20px;text-align:center;opacity:0;transform:translateY(50px);transition:all .8s ease-out}
  section.show{opacity:1;transform:translateY(0)}
  h2{font-size:2rem;margin-bottom:20px;color:#a020f0}
  .skills,.showcase{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
  .card{background:#1c1c1c;padding:20px;border-radius:10px;position:relative}
  .card:hover{background:#2a2a2a;transition:.3s}
  footer{padding:20px;background:#111;margin-top:30px;text-align:center}
  html{scroll-behavior:smooth}

  /* admin + preview styles */
  #adminBar{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:10px;flex-wrap:wrap}
  #adminBar input[type="password"], #adminBar input[type="text"], #adminUpload input[type="text"]{padding:8px;border-radius:6px;border:none}
  #adminUpload{margin-top:20px;display:none;text-align:center}
  #previewContainer{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px;justify-content:center}
  .previewCard{background:#2a2a2a;padding:10px;border-radius:8px;width:150px;text-align:center}
  .previewCard img,.previewCard video{max-width:100%;border-radius:5px}
  .previewCard input{width:90%;margin-top:6px;padding:6px;border-radius:6px;border:none}

  .adminControls{display:flex;gap:6px;margin-top:8px;justify-content:center}
  .adminControls button{padding:6px 8px;border-radius:6px;border:none;cursor:pointer}
  .deleteBtn{background:#ff4c4c;color:#fff}
  .editBtn{background:#ffaa00;color:#000}
  .logoutBtn{background:#444;color:#fff;padding:6px 10px;border-radius:6px;border:none;cursor:pointer}

  @media(max-width:600px){
    #dropdownMenu{top:60px;left:10px;right:10px}
    header h1{font-size:1.1rem;padding:12px 18px}
    .previewCard{width:120px}
  }
</style>
</head>
<body>

<header>
  <div class="nav-toggle" id="navToggle"><span></span><span></span><span></span></div>
  <h1>𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉</h1>
</header>

<div id="dropdownMenu">
  <a href="#aboutMain">About</a>
  <a href="#skillsMain">Skills</a>
  <a href="#showcaseMain">Showcase</a>
</div>

<section id="aboutMain">
  <h2>About Me</h2>
  <p>I build high-quality plugins for Minecraft servers. Custom weapons, animated systems, and more. Bringing your ideas to life.</p>
</section>

<section id="skillsMain">
  <h2>What I Know</h2>
  <div class="skills">
    <div class="card">Minecraft Server Setup</div>
    <div class="card">SMP Management</div>
    <div class="card">Plugin Development</div>
    <div class="card">Discord Development</div>
    <div class="card">Java</div>
    <div class="card">Java Skript</div>
    <div class="card">Skript Maker</div>
  </div>
</section>

<section id="showcaseMain">
  <h2>Showcase</h2>

  <div class="showcase" id="showcaseContent">
    <div class="card" id="comingSoon">COMING SOON ✨</div>
  </div>

  <!-- admin quick bar -->
  <div id="adminBar">
    <div id="adminLockPrompt">
      <input id="adminKeyInput" type="password" placeholder="Enter admin key" />
      <button id="unlockBtn" class="btn">Unlock Admin</button>
      <!-- removed admin email text as requested -->
    </div>

    <div id="adminInfo" style="display:none;align-items:center;gap:10px;">
      <span style="color:#a0ffa0">Admin unlocked</span>
      <button id="logoutBtn" class="logoutBtn">Logout Admin</button>
    </div>
  </div>

  <!-- admin upload area -->
  <div id="adminUpload">
    <div style="margin-bottom:8px">
      <input type="file" id="fileInput" accept="image/*,video/*" multiple />
    </div>
    <div id="previewContainer"></div>
    <div style="margin-top:8px">
      <button id="uploadBtn" class="btn">Upload Selected</button>
    </div>
  </div>
</section>

<section id="platforms">
  <h2>My Platforms</h2>
  <p>
    <a href="https://discord.gg/4RrCaXR9C7" target="_blank" class="btn">💬 Discord</a>
    <a href="https://youtube.com/@ninja_gamerz2692" target="_blank" class="btn">▶️ YouTube</a>
  </p>
</section>

<footer>
  <p>© 2025 𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉 | All Rights Reserved</p>
</footer>

<script>
/* Config */
const ADMIN_PASSWORD = "Ninja786"; // <- updated as requested
const LS_ADMIN_SESSION = "ng_admin_unlocked_v1";
const LS_MEDIA = "ng_showcase_media_v1";

/* UI refs */
const navToggle = document.getElementById('navToggle');
const dropdownMenu = document.getElementById('dropdownMenu');
navToggle.addEventListener('click', ()=> dropdownMenu.style.display = dropdownMenu.style.display === 'flex' ? 'none' : 'flex');
dropdownMenu.querySelectorAll('a').forEach(a => a.addEventListener('click', ()=> dropdownMenu.style.display='none'));

const adminKeyInput = document.getElementById('adminKeyInput');
const unlockBtn = document.getElementById('unlockBtn');
const adminLockPrompt = document.getElementById('adminLockPrompt');
const adminInfo = document.getElementById('adminInfo');
const adminUpload = document.getElementById('adminUpload');
const logoutBtn = document.getElementById('logoutBtn');
const fileInput = document.getElementById('fileInput');
const previewContainer = document.getElementById('previewContainer');
const uploadBtn = document.getElementById('uploadBtn');
const showcaseContent = document.getElementById('showcaseContent');

/* animation observer */
const sections = document.querySelectorAll("section");
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('show'); });
}, {threshold:0.1});
sections.forEach(s => observer.observe(s));

/* admin session state */
let isAdmin = localStorage.getItem(LS_ADMIN_SESSION) === "1";
setAdminUI(isAdmin);

/* load existing showcase */
loadShowcase();

/* unlock / logout */
unlockBtn.addEventListener('click', () => {
  const entered = (adminKeyInput.value || "").trim();
  if(entered === ADMIN_PASSWORD){
    isAdmin = true;
    localStorage.setItem(LS_ADMIN_SESSION, "1");
    adminKeyInput.value = "";
    setAdminUI(true);
    alert("Admin unlocked ✔");
  } else {
    alert("Wrong admin key.");
  }
});

logoutBtn.addEventListener('click', () => {
  isAdmin = false;
  localStorage.removeItem(LS_ADMIN_SESSION);
  setAdminUI(false);
  alert("Admin logged out.");
});

function setAdminUI(enabled){
  if(enabled){
    adminLockPrompt.style.display = "none";
    adminInfo.style.display = "flex";
    adminUpload.style.display = "block";
  } else {
    adminLockPrompt.style.display = "block";
    adminInfo.style.display = "none";
    adminUpload.style.display = "none";
  }
  // re-render showcase so controls appear/disappear correctly
  renderShowcaseControls();
}

/* live preview before upload */
fileInput.addEventListener('change', createPreview);
function createPreview(){
  previewContainer.innerHTML = "";
  const files = Array.from(fileInput.files || []);
  files.forEach((file, idx) => {
    const reader = new FileReader();
    reader.onload = function(e){
      const div = document.createElement('div');
      div.className = "previewCard";
      if(file.type.startsWith('image')){
        div.innerHTML = `<img src="${e.target.result}" alt=""><input id="p_title_${idx}" type="text" placeholder="Title (optional)">`;
      } else {
        div.innerHTML = `<video controls><source src="${e.target.result}" type="${file.type}"></video><input id="p_title_${idx}" type="text" placeholder="Title (optional)">`;
      }
      previewContainer.appendChild(div);
    };
    reader.readAsDataURL(file);
  });
}

/* upload selected previews */
uploadBtn.addEventListener('click', async () => {
  if(!isAdmin){ alert("Only admin can upload."); return; }
  const files = Array.from(fileInput.files || []);
  if(files.length === 0){ alert("Select files first."); return; }

  for(let i=0;i<files.length;i++){
    const file = files[i];
    const titleInput = document.getElementById(`p_title_${i}`);
    const title = (titleInput && titleInput.value.trim()) ? titleInput.value.trim() : file.name;
    const dataURL = await readFileAsDataURL(file);
    const obj = { title, type: file.type, data: dataURL };
    saveMedia(obj);
    renderMediaCard(obj);
    // remove coming soon if present
    const cs = document.getElementById('comingSoon');
    if(cs) cs.remove();
  }

  // reset
  fileInput.value = "";
  previewContainer.innerHTML = "";
  alert("Upload complete.");
});

/* helper: read file as dataURL */
function readFileAsDataURL(file){
  return new Promise((res, rej) => {
    const r = new FileReader();
    r.onload = () => res(r.result);
    r.onerror = rej;
    r.readAsDataURL(file);
  });
}

/* storage helpers */
function saveMedia(item){
  const arr = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
  arr.push(item);
  localStorage.setItem(LS_MEDIA, JSON.stringify(arr));
}

function loadShowcase(){
  showcaseContent.innerHTML = "";
  const arr = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
  if(arr.length === 0){
    showcaseContent.innerHTML = `<div class="card" id="comingSoon">COMING SOON ✨</div>`;
  } else {
    arr.forEach(item => renderMediaCard(item));
  }
  renderShowcaseControls();
}

function renderMediaCard(item){
  const card = document.createElement('div');
  card.className = "card";

  const titleEl = document.createElement('div');
  titleEl.innerHTML = `<strong>${escapeHtml(item.title)}</strong>`;
  card.appendChild(titleEl);

  if(item.type && item.type.startsWith('image')){
    const img = document.createElement('img');
    img.src = item.data;
    img.style.maxWidth='100%';
    img.style.marginTop='8px';
    img.style.borderRadius='6px';
    card.appendChild(img);
  } else {
    const vidWrap = document.createElement('div');
    vidWrap.style.marginTop='8px';
    const video = document.createElement('video');
    video.controls = true;
    video.style.maxWidth='100%';
    video.style.borderRadius='6px';
    const src = document.createElement('source');
    src.src = item.data;
    src.type = item.type;
    video.appendChild(src);
    vidWrap.appendChild(video);
    card.appendChild(vidWrap);
  }

  if(isAdmin){
    const controls = document.createElement('div');
    controls.className = 'adminControls';

    const editBtn = document.createElement('button');
    editBtn.className = 'editBtn';
    editBtn.textContent = 'Edit';
    editBtn.onclick = () => {
      const newTitle = prompt("New title:", item.title);
      if(newTitle && newTitle.trim()){
        item.title = newTitle.trim();
        titleEl.innerHTML = `<strong>${escapeHtml(item.title)}</strong>`;
        updateStoredItem(item);
      }
    };

    const delBtn = document.createElement('button');
    delBtn.className = 'deleteBtn';
    delBtn.textContent = 'Delete';
    delBtn.onclick = () => {
      if(confirm("Delete this item?")){
        removeStoredItem(item);
        card.remove();
        const remaining = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
        if(remaining.length === 0){
          showcaseContent.innerHTML = `<div class="card" id="comingSoon">COMING SOON ✨</div>`;
        }
      }
    };

    controls.appendChild(editBtn);
    controls.appendChild(delBtn);
    card.appendChild(controls);
  }

  showcaseContent.appendChild(card);
}

function updateStoredItem(updated){
  let arr = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
  arr = arr.map(it => (it.data === updated.data ? updated : it));
  localStorage.setItem(LS_MEDIA, JSON.stringify(arr));
}

function removeStoredItem(target){
  let arr = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
  arr = arr.filter(it => it.data !== target.data);
  localStorage.setItem(LS_MEDIA, JSON.stringify(arr));
}

/* re-render to show/hide admin controls */
function renderShowcaseControls(){
  // reload entire showcase so controls reflect current isAdmin
  const arr = JSON.parse(localStorage.getItem(LS_MEDIA) || "[]");
  showcaseContent.innerHTML = "";
  if(arr.length === 0){
    showcaseContent.innerHTML = `<div class="card" id="comingSoon">COMING SOON ✨</div>`;
  } else {
    arr.forEach(item => renderMediaCard(item));
  }
}

/* utilities */
function escapeHtml(text){
  return String(text).replace(/[&<>"']/g, function(m){
    return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m];
  });
}

/* initialize */
setAdminUI(isAdmin);
loadShowcase();
</script>
</body>
</html>
