<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#0c0c0c;
  color:white;
  overflow-x:hidden;
}

/* Header */
header {
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  padding:10px 20px;
  background:#111;
  position:sticky;
  top:0;
  z-index:10;
}

/* Hamburger */
.nav-toggle {
  cursor:pointer;
  width:30px;
  height:25px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  position:fixed;
  top:20px;
  left:20px;
  z-index:25;
}
.nav-toggle span {
  display:block;
  height:3px;
  background:white;
  border-radius:2px;
  transition:0.3s;
}

/* Name */
header h1 {
  margin:0;
  position:fixed;
  top:10px;
  right:20px;
  padding:15px 25px;
  background:#222;
  border-radius:10px;
  box-shadow:0 3px 6px rgba(0,0,0,0.5);
  font-size:1.3rem;
}

/* Dropdown */
#dropdownMenu {
  position:fixed;
  top:60px;
  left:20px;
  background:#1c1c1c;
  padding:10px 20px;
  border-radius:8px;
  display:none;
  flex-direction:column;
  z-index:20;
}
#dropdownMenu a {
  color:white;
  text-decoration:none;
  margin:5px 0;
  font-weight:bold;
}
#dropdownMenu a:hover { color:#a020f0; }

/* Buttons */
.btn {
  display:inline-block;
  margin:10px 5px;
  padding:12px 20px;
  border-radius:8px;
  background:#a020f0;
  color:white;
  font-weight:bold;
  text-decoration:none;
  transition:0.3s;
  cursor:pointer;
}
.btn:hover { background:#7a0fc4; }

/* Sections */
section {
  padding:60px 20px;
  text-align:center;
  opacity:0;
  transform:translateY(50px);
  transition: all 0.8s ease-out;
}
section.show {
  opacity:1;
  transform:translateY(0);
}
h2 {
  font-size:2rem;
  margin-bottom:20px;
  color:#a020f0;
}
.skills, .showcase {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(200px,1fr));
  gap:20px;
  margin-top:20px;
}
.card {
  background:#1c1c1c;
  padding:20px;
  border-radius:10px;
}
.card:hover { background:#2a2a2a; transition:0.3s; }

/* Footer */
footer {
  padding:20px;
  background:#111;
  margin-top:30px;
  text-align:center;
}
html{scroll-behavior:smooth;}

/* Upload Form */
#adminUpload input, #adminUpload button {
  margin:5px 0;
  padding:10px;
  border-radius:6px;
  border:none;
}
#adminUpload input[type="file"] { background:#333; color:white; }
#adminUpload input[type="text"] { width:80%; }
#adminUpload button { background:#a020f0; color:white; cursor:pointer; }
#adminUpload button:hover { background:#7a0fc4; }

/* Delete button */
.deleteBtn {
  background:#ff4c4c; 
  color:white; 
  border:none; 
  border-radius:5px;
  padding:5px 10px; 
  margin-top:5px; 
  cursor:pointer;
}
</style>
</head>
<body>

<header>
  <div class="nav-toggle" id="navToggle">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <h1>𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉</h1>
</header>

<!-- Dropdown Menu -->
<div id="dropdownMenu">
  <a href="#aboutMain">About</a>
  <a href="#skillsMain">Skills</a>
  <a href="#showcaseMain">Showcase</a>
</div>

<!-- Sections -->
<section id="aboutMain">
  <h2>About Me</h2>
  <p>I build high-quality plugins for Minecraft servers. Custom weapons, animated systems, and more. Bringing your ideas to life.</p>
</section>

<section id="skillsMain">
  <h2>What I Know</h2>
  <div class="skills">
    <div class="card">Minecraft Server Setup</div>
    <div class="card">SMP Management</div>
    <div class="card">Plugin Development</div>
    <div class="card">Discord Development</div>
    <div class="card">Java</div>
    <div class="card">Java Skript</div>      
    <div class="card">Skript Maker</div>
  </div>
</section>

<section id="showcaseMain">
  <h2>Showcase</h2>
  <div class="showcase" id="showcaseContent">
    <div class="card" id="comingSoon">COMING SOON ✨</div>
  </div>

  <!-- Admin upload form -->
  <div id="adminUpload" style="margin-top:20px; display:none;">
    <input type="file" id="fileInput" accept="image/*,video/*" multiple><br>
    <input type="text" id="fileTitle" placeholder="Enter title for files"><br>
    <button onclick="uploadMedia()">Upload</button>
  </div>
</section>

<section id="platforms">
<h2>My Platforms</h2>
<p>
  <a href="https://discord.gg/4RrCaXR9C7" target="_blank" class="btn">💬 Discord</a>
  <a href="https://youtube.com/@ninja_gamerz2692" target="_blank" class="btn">▶️ YouTube</a>
</p>
</section>

<footer>
<p>© 2025 𝙽𝙸𝙽𝙹𝙰𝙶𝙰𝙼𝙴𝚁𝚉 | All Rights Reserved</p>
</footer>

<!-- Google Sign-in -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
const adminEmail = "srahemat943@gmail.com";
let isAdmin = false;

// Scroll animation
const sections = document.querySelectorAll("section");
const observer = new IntersectionObserver(entries=>{
  entries.forEach(entry=>{if(entry.isIntersecting) entry.target.classList.add("show");});
},{threshold:0.1});
sections.forEach(section=>observer.observe(section));

// Hamburger
const navToggle = document.getElementById('navToggle');
const dropdownMenu = document.getElementById('dropdownMenu');
navToggle.addEventListener('click', ()=>{
  dropdownMenu.style.display = dropdownMenu.style.display==='flex' ? 'none':'flex';
});
dropdownMenu.querySelectorAll('a').forEach(link=>link.addEventListener('click', ()=>dropdownMenu.style.display='none'));

// Google One Tap
window.onload = () => {
  google.accounts.id.initialize({
    client_id: "YOUR_GOOGLE_CLIENT_ID", // replace with your Google Client ID
    callback: handleCredentialResponse,
    auto_select: true
  });
  google.accounts.id.prompt();
};

function handleCredentialResponse(response) {
  const data = parseJwt(response.credential);
  const email = data.email;

  if(email === adminEmail){
    isAdmin = true;
    document.getElementById('adminUpload').style.display = 'block';
  }
  loadShowcase();
}

// Decode JWT
function parseJwt(token) {
  let base64Url = token.split('.')[1];
  let base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
  let jsonPayload = decodeURIComponent(atob(base64).split('').map(c=>{
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
  return JSON.parse(jsonPayload);
}

// Upload + Save
function uploadMedia(){
  const files = document.getElementById('fileInput').files;
  const title = document.getElementById('fileTitle').value.trim();
  
  if(files.length===0 || title===''){
    alert('Please select file(s) and enter title');
    return;
  }
  
  Array.from(files).forEach(file=>{
    const reader = new FileReader();
    reader.onload = function(e){
      saveMedia({title, type:file.type, data:e.target.result});
      renderMedia({title, type:file.type, data:e.target.result});
    };
    reader.readAsDataURL(file);
  });
  
  document.getElementById('fileInput').value='';
  document.getElementById('fileTitle').value='';
  document.getElementById('comingSoon').style.display='none';
}

// Save to localStorage
function saveMedia(item){
  let media = JSON.parse(localStorage.getItem("showcaseMedia") || "[]");
  media.push(item);
  localStorage.setItem("showcaseMedia", JSON.stringify(media));
}

// Load showcase
function loadShowcase(){
  const showcase = document.getElementById('showcaseContent');
  showcase.innerHTML = "";
  let media = JSON.parse(localStorage.getItem("showcaseMedia") || "[]");
  if(media.length===0){
    showcase.innerHTML = '<div class="card" id="comingSoon">COMING SOON ✨</div>';
  } else {
    media.forEach(item=>renderMedia(item));
  }
}

// Render one card
function renderMedia(item){
  const newCard = document.createElement('div');
  newCard.className = 'card';
  
  if(item.type.startsWith('image')){
    newCard.innerHTML = `<strong>${item.title}</strong><br><img src="${item.data}" style="max-width:100%; margin-top:5px; border-radius:5px;">`;
  } else if(item.type.startsWith('video')){
    newCard.innerHTML = `<strong>${item.title}</strong><br><video controls style="max-width:100%; margin-top:5px; border-radius:5px;"><source src="${item.data}" type="${item.type}"></video>`;
  }

  if(isAdmin){
    const deleteBtn = document.createElement('button');
    deleteBtn.textContent = "Delete";
    deleteBtn.className = "deleteBtn";
    deleteBtn.onclick = () => {
      deleteMedia(item);
      newCard.remove();
      if(document.getElementById('showcaseContent').children.length===0){
        document.getElementById('showcaseContent').innerHTML = '<div class="card" id="comingSoon">COMING SOON ✨</div>';
      }
    };
    newCard.appendChild(deleteBtn);
  }

  document.getElementById('showcaseContent').appendChild(newCard);
}

// Delete from storage
function deleteMedia(item){
  let media = JSON.parse(localStorage.getItem("showcaseMedia") || "[]");
  media = media.filter(m => !(m.title===item.title && m.data===item.data));
  localStorage.setItem("showcaseMedia", JSON.stringify(media));
}
</script>

</body>
</html>
